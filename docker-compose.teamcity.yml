# Лабораторная работа 4, пункт 2: TeamCity Server (образ jetbrains/teamcity-server с Docker Hub)
# Запуск: docker compose -f docker-compose.teamcity.yml up -d
# Веб-интерфейс: http://localhost:8111

services:
  teamcity-server:
    image: jetbrains/teamcity-server:latest
    container_name: teamcity-server-instance
    user: "0"   # иначе тома от root, tcuser (1000) не может писать
    ports:
      - "8111:8111"
    volumes:
      - teamcity-data:/data/teamcity_server/datadir
      - teamcity-logs:/opt/teamcity/logs
    restart: unless-stopped

volumes:
  teamcity-data:
  teamcity-logs:
